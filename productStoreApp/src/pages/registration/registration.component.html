<form class="container" [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
  <div class="field">
    @if (username.invalid && (username.dirty || username.touched)) {
      <label class="alert-text" for="username"> Username: </label>
    } @else {
      <label for="username">Username: </label>
    }

    <input type="text" id="username" formControlName="username" />

    <div
      *ngIf="username.invalid && (username.dirty || username.touched)"
      class="validator-alert"
      [@fadeInOutAnimation]
    >
      <div *ngIf="username.errors?.['required']">Username is required.</div>
      <div *ngIf="username.errors?.['minlength']">
        Username must be at least 6 characters long.
      </div>
    </div>
  </div>

  <div class="field">
    @if (password.invalid && (password.dirty || password.touched)) {
      <label class="alert-text" for="firstName">First name: </label>
    } @else {
      <label for="password">Password: </label>
    }

    <input type="password" id="password" formControlName="password" />
    <div
      *ngIf="password.invalid && (password.dirty || password.touched)"
      class="validator-alert"
      [@fadeInOutAnimation]
    >
      <div *ngIf="password.errors?.['required']">Password is required.</div>
      <div *ngIf="password.errors?.['minlength']">
        Password must be at least 6 characters long.
      </div>
    </div>
  </div>

  <div class="field">
    @if (firstName.invalid && (firstName.dirty || firstName.touched)) {
      <label class="alert-text" for="firstName">First name: </label>
    } @else {
      <label for="firstName">First name: </label>
    }

    <input type="text" id="firstName" formControlName="firstName" />
    <div
      *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
      class="validator-alert"
      [@fadeInOutAnimation]
    >
      <div *ngIf="firstName.errors?.['required']">FirstName is required.</div>
      <div *ngIf="firstName.errors?.['minlength']">
        FirstName must be at least 3 characters long.
      </div>
    </div>
  </div>

  <div class="field">
    @if (lastName.invalid && (lastName.dirty || lastName.touched)) {
      <label class="alert-text" for="lastName">Last name: </label>
    } @else {
      <label for="lastName">Last name: </label>
    }

    <input type="text" id="lastName" formControlName="lastName" />
    <div
      *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
      class="validator-alert"
      [@fadeInOutAnimation]
    >
      <div *ngIf="lastName.errors?.['required']">LastName is required.</div>
      <div *ngIf="lastName.errors?.['minlength']">
        LastName must be at least 3 characters long.
      </div>
    </div>
  </div>

  <div class="field">
    @if (address.invalid && (address.dirty || address.touched)) {
      <label class="alert-text" for="address">Address: </label>
    } @else {
      <label for="address">Address: </label>
    }

    <input type="text" id="address" formControlName="address" />
    <div
      *ngIf="address.invalid && (address.dirty || address.touched)"
      class="validator-alert"
      [@fadeInOutAnimation]
    >
      <div *ngIf="address.errors?.['minlength']">
        Address must be at least 6 characters long.
      </div>
    </div>
  </div>

  <div class="field">
    @if (phone.invalid && (phone.dirty || phone.touched)) {
      <label class="alert-text" for="phone">Phone: </label>
    } @else {
      <label for="phone">Phone: </label>
    }

    <input type="text" id="phone" formControlName="phone" />
    <div
      *ngIf="phone.invalid && (phone.dirty || phone.touched)"
      class="validator-alert"
      [@fadeInOutAnimation]
    >
      <div *ngIf="phone.errors?.['minlength']">
        Phone must be at least 3 numbers long.
      </div>
      <div *ngIf="phone.errors?.['pattern']"> Phone format error. </div>
    </div>
  </div>

  <hr />
  <div class="controls-container">
    <app-button type="submit">Register</app-button>
  </div>
</form>
